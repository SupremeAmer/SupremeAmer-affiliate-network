<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SupremeAmer Token Platform</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/appwrite@10.1.0"></script>
    <script src="https://cdn.ethers.io/lib/ethers-5.2.umd.min.js"></script>
    <style>
        :root {
            --primary: #4e54c8;
            --secondary: #8f94fb;
            --dark: #1a1c2c;
            --light: #f5f7fa;
            --success: #2ecc71;
            --warning: #f39c12;
            --danger: #e74c3c;
            --gray: #95a5a6;
            --card-bg: rgba(255, 255, 255, 0.95);
            --shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            --gradient: linear-gradient(135deg, var(--primary), var(--secondary));
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }
        
        body {
            background: var(--gradient);
            color: var(--dark);
            min-height: 100vh;
            padding-bottom: 80px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            margin-bottom: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .logo h1 {
            font-size: 1.8rem;
            color: white;
            font-weight: 700;
        }
        
        .logo-icon {
            background: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: var(--primary);
        }
        
        .wallet-info {
            display: flex;
            align-items: center;
            gap: 15px;
            background: var(--card-bg);
            padding: 10px 15px;
            border-radius: 30px;
            box-shadow: var(--shadow);
            position: relative;
        }
        
        .user-avatar {
            width: 40px;
            height: 40px;
            background: var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: white;
            cursor: pointer;
        }
        
        .balance {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
        }
        
        .bnb-balance, .token-balance {
            font-size: 0.9rem;
            font-weight: 600;
        }
        
        .bnb-balance {
            color: var(--warning);
        }
        
        .token-balance {
            color: var(--primary);
        }
        
        .section-title {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid rgba(0, 0, 0, 0.1);
        }
        
        .section-title h2 {
            font-size: 1.5rem;
            color: white;
        }
        
        .card {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
        }
        
        .view {
            display: none;
        }
        
        .view.active {
            display: block;
        }
        
        .dashboard-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .stat-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            box-shadow: var(--shadow);
            transition: transform 0.3s ease;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
        }
        
        .stat-card i {
            font-size: 2.5rem;
            margin-bottom: 15px;
            color: var(--primary);
        }
        
        .stat-card h3 {
            font-size: 1.8rem;
            margin-bottom: 5px;
            color: var(--dark);
        }
        
        .stat-card p {
            color: var(--gray);
            font-size: 0.9rem;
        }
        
        .action-buttons {
            display: flex;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 12px 25px;
            border-radius: 50px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .btn-primary {
            background: var(--primary);
            color: white;
        }
        
        .btn-secondary {
            background: var(--secondary);
            color: white;
        }
        
        .btn-success {
            background: var(--success);
            color: white;
        }
        
        .btn-warning {
            background: var(--warning);
            color: white;
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 15px rgba(0, 0, 0, 0.2);
        }
        
        .referral-container {
            background: var(--gradient);
            padding: 20px;
            border-radius: 15px;
            color: white;
            margin-bottom: 20px;
        }
        
        .referral-input {
            display: flex;
            margin: 15px 0;
        }
        
        .referral-input input {
            flex: 1;
            padding: 12px 15px;
            border-radius: 50px 0 0 50px;
            border: none;
            font-size: 1rem;
        }
        
        .referral-input button {
            border-radius: 0 50px 50px 0;
            border: none;
            background: var(--warning);
            color: white;
            padding: 0 20px;
            cursor: pointer;
            font-weight: 600;
        }
        
        .referral-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .referral-stat {
            background: rgba(255, 255, 255, 0.2);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }
        
        .referral-stat h3 {
            font-size: 1.8rem;
            margin-bottom: 5px;
        }
        
        .market-filters {
            display: flex;
            gap: 10px;
            overflow-x: auto;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        
        .filter-btn {
            padding: 8px 15px;
            border-radius: 20px;
            background: white;
            border: 1px solid #ddd;
            cursor: pointer;
            white-space: nowrap;
            transition: all 0.2s ease;
        }
        
        .filter-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }
        
        .ads-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
        }
        
        .ad-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: transform 0.3s ease;
        }
        
        .ad-card:hover {
            transform: translateY(-5px);
        }
        
        .ad-image {
            height: 160px;
            background: #f0f2f5;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            color: var(--gray);
            background-size: cover;
            background-position: center;
        }
        
        .ad-content {
            padding: 15px;
        }
        
        .ad-category {
            display: inline-block;
            padding: 3px 10px;
            background: var(--secondary);
            color: white;
            border-radius: 20px;
            font-size: 0.8rem;
            margin-bottom: 10px;
        }
        
        .ad-title {
            font-size: 1.1rem;
            margin-bottom: 8px;
        }
        
        .ad-stats {
            display: flex;
            justify-content: space-between;
            font-size: 0.9rem;
            color: var(--gray);
            margin-top: 15px;
        }
        
        .ad-reward {
            color: var(--success);
            font-weight: 600;
        }
        
        .history-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .history-item {
            display: flex;
            justify-content: space-between;
            padding: 15px;
            background: white;
            border-radius: 10px;
            box-shadow: var(--shadow);
        }
        
        .history-details {
            display: flex;
            flex-direction: column;
        }
        
        .history-amount {
            font-weight: 600;
            font-size: 1.1rem;
        }
        
        .history-positive {
            color: var(--success);
        }
        
        .history-negative {
            color: var(--danger);
        }
        
        .history-date {
            color: var(--gray);
            font-size: 0.9rem;
        }
        
        .footer-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            display: flex;
            background: white;
            box-shadow: 0 -4px 15px rgba(0, 0, 0, 0.1);
            z-index: 100;
        }
        
        .nav-btn {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 12px 0;
            font-size: 0.9rem;
            color: var(--gray);
            border: none;
            background: none;
            cursor: pointer;
        }
        
        .nav-btn i {
            font-size: 1.3rem;
            margin-bottom: 5px;
        }
        
        .nav-btn.active {
            color: var(--primary);
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }
        
        .modal.active {
            display: flex;
        }
        
        .modal-content {
            background: white;
            border-radius: 15px;
            width: 90%;
            max-width: 500px;
            overflow: hidden;
        }
        
        .modal-header {
            padding: 20px;
            background: var(--primary);
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .modal-header h3 {
            font-size: 1.3rem;
        }
        
        .modal-body {
            padding: 20px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
        }
        
        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
        }
        
        .form-group textarea {
            min-height: 100px;
        }
        
        .modal-footer {
            padding: 15px 20px;
            background: #f8f9fa;
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }
        
        .btn-outline {
            background: none;
            border: 1px solid #ddd;
            color: var(--dark);
        }
        
        .floating-buttons {
            position: fixed;
            bottom: 90px;
            right: 20px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            z-index: 99;
        }
        
        .floating-btn {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: var(--primary);
            color: white;
            border: none;
            box-shadow: var(--shadow);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .floating-btn:hover {
            transform: translateY(-5px) scale(1.1);
        }
        
        .auth-container {
            display: flex;
            min-height: 100vh;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .auth-card {
            background: var(--card-bg);
            border-radius: 15px;
            box-shadow: var(--shadow);
            width: 100%;
            max-width: 450px;
            overflow: hidden;
        }
        
        .auth-header {
            background: var(--gradient);
            padding: 30px 20px;
            text-align: center;
            color: white;
        }
        
        .auth-header h2 {
            font-size: 1.8rem;
            margin-bottom: 10px;
        }
        
        .auth-tabs {
            display: flex;
            border-bottom: 1px solid #eee;
        }
        
        .auth-tab {
            flex: 1;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .auth-tab.active {
            color: var(--primary);
            border-bottom: 3px solid var(--primary);
        }
        
        .auth-body {
            padding: 30px;
        }
        
        .auth-form {
            display: none;
        }
        
        .auth-form.active {
            display: block;
        }
        
        .user-dropdown {
            position: absolute;
            top: 60px;
            right: 0;
            background: white;
            border-radius: 10px;
            box-shadow: var(--shadow);
            width: 250px;
            z-index: 100;
            overflow: hidden;
            display: none;
        }
        
        .user-dropdown.active {
            display: block;
        }
        
        .dropdown-item {
            padding: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .dropdown-item:hover {
            background: #f8f9fa;
        }
        
        .dropdown-item i {
            width: 20px;
            text-align: center;
        }
        
        .chart-container {
            height: 250px;
            margin-top: 20px;
        }
        
        .mining-container {
            background: var(--gradient);
            border-radius: 15px;
            padding: 20px;
            color: white;
            text-align: center;
            margin-bottom: 20px;
        }
        
        .mining-header {
            margin-bottom: 20px;
        }
        
        .mining-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .mining-stat {
            background: rgba(255, 255, 255, 0.2);
            padding: 15px;
            border-radius: 10px;
        }
        
        .mining-progress {
            height: 20px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            margin-bottom: 20px;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background: var(--success);
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .game-container {
            background: var(--gradient);
            border-radius: 15px;
            padding: 20px;
            color: white;
            text-align: center;
            margin-bottom: 20px;
        }
        
        .game-header {
            margin-bottom: 20px;
        }
        
        .game-area {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            min-height: 200px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        
        .game-button {
            background: var(--warning);
            border: none;
            color: white;
            padding: 12px 25px;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .game-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 15px rgba(0, 0, 0, 0.2);
        }
        
        .status-message {
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            text-align: center;
            font-weight: 500;
        }
        
        .status-success {
            background: rgba(46, 204, 113, 0.2);
            border: 1px solid var(--success);
            color: var(--success);
        }
        
        .status-error {
            background: rgba(231, 76, 60, 0.2);
            border: 1px solid var(--danger);
            color: var(--danger);
        }
        
        .status-warning {
            background: rgba(243, 156, 18, 0.2);
            border: 1px solid var(--warning);
            color: var(--warning);
        }
        
        @media (max-width: 768px) {
            .logo h1 {
                font-size: 1.4rem;
            }
            
            .wallet-info {
                padding: 8px 12px;
            }
            
            .user-avatar {
                width: 35px;
                height: 35px;
            }
            
            .action-buttons {
                flex-direction: column;
            }
            
            .floating-buttons {
                bottom: 80px;
                right: 15px;
            }
            
            .floating-btn {
                width: 50px;
                height: 50px;
                font-size: 1.3rem;
            }
        }
    </style>
</head>
<body>
    <!-- Auth Section -->
    <section id="auth-section" class="auth-container">
        <div class="auth-card">
            <div class="auth-header">
                <div class="logo">
                    <div class="logo-icon">S</div>
                    <h1>SupremeAmer Token</h1>
                </div>
                <p>Earn tokens by participating in our ecosystem</p>
            </div>
            
            <div class="auth-tabs">
                <div class="auth-tab active" data-form="login-form">Login</div>
                <div class="auth-tab" data-form="register-form">Register</div>
            </div>
            
            <div class="auth-body">
                <div id="auth-message"></div>
                
                <form id="login-form" class="auth-form active">
                    <div class="form-group">
                        <label for="login-email">Email</label>
                        <input type="email" id="login-email" placeholder="Enter your email" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="login-password">Password</label>
                        <input type="password" id="login-password" placeholder="Enter your password" required>
                    </div>
                    
                    <div class="form-group">
                        <button type="submit" class="btn btn-primary" style="width: 100%;">Login</button>
                    </div>
                    
                    <div style="text-align: center; margin-top: 15px;">
                        <p>Don't have an account? <a href="#" id="show-register">Register</a></p>
                    </div>
                </form>
                
                <form id="register-form" class="auth-form">
                    <div class="form-group">
                        <label for="register-name">Full Name</label>
                        <input type="text" id="register-name" placeholder="Enter your full name" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="register-email">Email</label>
                        <input type="email" id="register-email" placeholder="Enter your email" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="register-password">Password</label>
                        <input type="password" id="register-password" placeholder="Create a password" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="register-confirm">Confirm Password</label>
                        <input type="password" id="register-confirm" placeholder="Confirm your password" required>
                    </div>
                    
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="fee-agreement" required> I agree to pay the $2 registration fee in BNB
                        </label>
                    </div>
                    
                    <div class="form-group">
                        <button type="submit" class="btn btn-primary" style="width: 100%;">Register & Pay Fee</button>
                    </div>
                    
                    <div style="text-align: center; margin-top: 15px;">
                        <p>Already have an account? <a href="#" id="show-login">Login</a></p>
                    </div>
                </form>
            </div>
        </div>
    </section>
    
    <!-- Main App -->
    <div id="main-app" style="display: none;">
        <div class="container">
            <header>
                <div class="logo">
                    <div class="logo-icon">S</div>
                    <h1>SupremeAmer Token</h1>
                </div>
                <div class="wallet-info">
                    <div class="user-avatar" id="user-avatar">ðŸ‘¤</div>
                    <div class="balance">
                        <div class="bnb-balance">BNB: <span id="bnb-balance">0.00</span></div>
                        <div class="token-balance">SAT: <span id="token-balance">0</span></div>
                    </div>
                    <div class="user-dropdown" id="user-dropdown">
                        <div class="dropdown-item" id="profile-item">
                            <i class="fas fa-user"></i>
                            <span>My Profile</span>
                        </div>
                        <div class="dropdown-item" id="settings-item">
                            <i class="fas fa-cog"></i>
                            <span>Settings</span>
                        </div>
                        <div class="dropdown-item" id="logout-item">
                            <i class="fas fa-sign-out-alt"></i>
                            <span>Logout</span>
                        </div>
                    </div>
                </div>
            </header>
            
            <!-- Status Messages -->
            <div id="app-message"></div>
            
            <main>
                <!-- Home/Dashboard View -->
                <section id="home-view" class="view active">
                    <div class="section-title">
                        <h2>Dashboard</h2>
                    </div>
                    
                    <div class="dashboard-stats">
                        <div class="stat-card">
                            <i class="fas fa-coins"></i>
                            <h3 id="sat-balance">0</h3>
                            <p>SupremeAmer Tokens</p>
                        </div>
                        <div class="stat-card">
                            <i class="fas fa-users"></i>
                            <h3 id="referral-count">0</h3>
                            <p>Active Referrals</p>
                        </div>
                        <div class="stat-card">
                            <i class="fas fa-ad"></i>
                            <h3 id="active-ads">0</h3>
                            <p>Active Ads</p>
                        </div>
                        <div class="stat-card">
                            <i class="fas fa-chart-line"></i>
                            <h3 id="earnings-today">$0.00</h3>
                            <p>Earnings Today</p>
                        </div>
                    </div>
                    
                    <div class="action-buttons">
                        <button class="btn btn-primary" id="add-funds-btn">
                            <i class="fas fa-wallet"></i> Add Funds
                        </button>
                        <button class="btn btn-success" id="cash-out-btn">
                            <i class="fas fa-money-bill-wave"></i> Cash Out
                        </button>
                        <button class="btn btn-secondary" id="invite-btn">
                            <i class="fas fa-user-plus"></i> Invite Friends
                        </button>
                        <button class="btn btn-warning" id="boost-btn">
                            <i class="fas fa-bolt"></i> Boost Earnings
                        </button>
                    </div>
                    
                    <div class="card">
                        <h3>Recent Ads</h3>
                        <div class="ads-grid" id="recent-ads">
                            <!-- Ads will be loaded here -->
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3>Transaction History</h3>
                        <div class="history-list" id="history-list">
                            <!-- History will be loaded here -->
                        </div>
                    </div>
                </section>
                
                <!-- Earn View -->
                <section id="earn-view" class="view">
                    <div class="section-title">
                        <h2>Earn Tokens</h2>
                    </div>
                    
                    <div class="referral-container">
                        <h3>Refer Friends & Earn Tokens</h3>
                        <p>Share your referral link and earn 1000 SAT for each friend who signs up</p>
                        
                        <div class="referral-input">
                            <input type="text" id="referral-link" value="" readonly>
                            <button id="copy-link-btn">Copy</button>
                        </div>
                        
                        <div class="referral-stats">
                            <div class="referral-stat">
                                <h3 id="total-referrals">0</h3>
                                <p>Total Referrals</p>
                            </div>
                            <div class="referral-stat">
                                <h3 id="tokens-earned">0</h3>
                                <p>Tokens Earned</p>
                            </div>
                            <div class="referral-stat">
                                <h3 id="indirect-earnings">0</h3>
                                <p>Indirect Earnings</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3>Your Referral Activity</h3>
                        <div class="history-list" id="referral-activity">
                            <!-- Referral activity will be loaded here -->
                        </div>
                    </div>
                </section>
                
                <!-- Market View -->
                <section id="market-view" class="view">
                    <div class="section-title">
                        <h2>Ad Marketplace</h2>
                        <button class="btn btn-primary" id="upload-ad-btn">
                            <i class="fas fa-plus"></i> Upload Ad
                        </button>
                    </div>
                    
                    <div class="market-filters">
                        <button class="filter-btn active">All</button>
                        <button class="filter-btn">Crypto</button>
                        <button class="filter-btn">Facebook</button>
                        <button class="filter-btn">Instagram</button>
                        <button class="filter-btn">Twitter</button>
                        <button class="filter-btn">Referral</button>
                        <button class="filter-btn">Telegram</button>
                        <button class="filter-btn">YouTube</button>
                        <button class="filter-btn">Discord</button>
                    </div>
                    
                    <div class="ads-grid" id="marketplace-ads">
                        <!-- Marketplace ads will be loaded here -->
                    </div>
                </section>
                
                <!-- Support View -->
                <section id="support-view" class="view">
                    <div class="section-title">
                        <h2>Support Center</h2>
                    </div>
                    
                    <div class="card">
                        <h3>Frequently Asked Questions</h3>
                        <div class="faq-list">
                            <div class="faq-item" style="margin-bottom: 20px;">
                                <h4>How do I earn SupremeAmer tokens?</h4>
                                <p>You can earn tokens by referring friends, completing advertisement tasks, and participating in community activities.</p>
                            </div>
                            <div class="faq-item" style="margin-bottom: 20px;">
                                <h4>What is the minimum withdrawal amount?</h4>
                                <p>The minimum withdrawal amount is 30,000 SupremeAmer tokens.</p>
                            </div>
                            <div class="faq-item" style="margin-bottom: 20px;">
                                <h4>How long does ad validation take?</h4>
                                <p>Ad validation typically takes 10-15 minutes after you submit your proof of completion.</p>
                            </div>
                            <div class="faq-item" style="margin-bottom: 20px;">
                                <h4>How are referral rewards calculated?</h4>
                                <p>You earn 1000 SAT for each direct referral. For each referral made by someone you referred, you earn 1% of their reward (10 SAT).</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3>Contact Support</h3>
                        <p><i class="fas fa-envelope"></i> Email: support@supremeamer.com</p>
                        <p><i class="fab fa-telegram"></i> Telegram: @SupremeAmerSupport</p>
                        <p><i class="fas fa-clock"></i> Response time: 24-48 hours</p>
                    </div>
                </section>
                
                <!-- Mining View -->
                <section id="mining-view" class="view">
                    <div class="mining-container">
                        <div class="mining-header">
                            <h2><i class="fas fa-digging"></i> Token Mining</h2>
                            <p>Mine SupremeAmer tokens using your device's resources</p>
                        </div>
                        
                        <div class="mining-stats">
                            <div class="mining-stat">
                                <h3 id="mining-rate">0 SAT/h</h3>
                                <p>Mining Rate</p>
                            </div>
                            <div class="mining-stat">
                                <h3 id="mining-earned">0 SAT</h3>
                                <p>Total Earned</p>
                            </div>
                            <div class="mining-stat">
                                <h3 id="mining-time">0h 0m</h3>
                                <p>Active Today</p>
                            </div>
                        </div>
                        
                        <div class="mining-progress">
                            <div class="progress-bar" id="mining-progress"></div>
                        </div>
                        
                        <button class="game-button" id="start-mining-btn">
                            <i class="fas fa-play"></i> Start Mining
                        </button>
                    </div>
                    
                    <div class="card">
                        <h3>Mining Statistics</h3>
                        <div class="chart-container">
                            <canvas id="mining-chart"></canvas>
                        </div>
                    </div>
                </section>
                
                <!-- Game View -->
                <section id="game-view" class="view">
                    <div class="game-container">
                        <div class="game-header">
                            <h2><i class="fas fa-gamepad"></i> Token Games</h2>
                            <p>Play games to earn extra SupremeAmer tokens</p>
                        </div>
                        
                        <div class="game-area">
                            <h3 id="game-title">Token Collector</h3>
                            <div style="font-size: 4rem; margin: 20px 0;" id="game-display">ðŸª™</div>
                            <p id="game-instruction">Click when the token appears to earn SAT!</p>
                        </div>
                        
                        <button class="game-button" id="start-game-btn">
                            <i class="fas fa-play"></i> Start Game
                        </button>
                    </div>
                    
                    <div class="card">
                        <h3>Game Statistics</h3>
                        <div class="dashboard-stats">
                            <div class="stat-card">
                                <i class="fas fa-coins"></i>
                                <h3 id="game-earnings">0 SAT</h3>
                                <p>Total Game Earnings</p>
                            </div>
                            <div class="stat-card">
                                <i class="fas fa-trophy"></i>
                                <h3 id="high-score">0 SAT</h3>
                                <p>Highest Score</p>
                            </div>
                            <div class="stat-card">
                                <i class="fas fa-gamepad"></i>
                                <h3 id="games-played">0</h3>
                                <p>Games Played</p>
                            </div>
                        </div>
                    </div>
                </section>
            </main>
        </div>
        
        <!-- Floating Action Buttons -->
        <div class="floating-buttons">
            <button class="floating-btn" id="mining-btn" title="Token Mining">
                <i class="fas fa-digging"></i>
            </button>
            <button class="floating-btn" id="game-btn" title="Earn Games">
                <i class="fas fa-gamepad"></i>
            </button>
        </div>
        
        <!-- Footer Navigation -->
        <div class="footer-nav">
            <button class="nav-btn active" data-view="home-view">
                <i class="fas fa-home"></i>
                <span>Home</span>
            </button>
            <button class="nav-btn" data-view="earn-view">
                <i class="fas fa-coins"></i>
                <span>Earn</span>
            </button>
            <button class="nav-btn" data-view="market-view">
                <i class="fas fa-store"></i>
                <span>Market</span>
            </button>
            <button class="nav-btn" data-view="support-view">
                <i class="fas fa-headset"></i>
                <span>Support</span>
            </button>
        </div>
        
        <!-- Upload Ad Modal -->
        <div class="modal" id="upload-ad-modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Upload New Advertisement</h3>
                    <button class="close-modal">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="ad-title">Ad Title</label>
                        <input type="text" id="ad-title" placeholder="Enter ad title" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="ad-category">Category</label>
                        <select id="ad-category">
                            <option value="crypto">Crypto</option>
                            <option value="facebook">Facebook</option>
                            <option value="instagram">Instagram</option>
                            <option value="twitter">Twitter</option>
                            <option value="referral">Referral</option>
                            <option value="telegram">Telegram</option>
                            <option value="youtube">YouTube</option>
                            <option value="discord">Discord</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="ad-reach">Reach (People)</label>
                        <input type="number" id="ad-reach" min="20" value="50">
                    </div>
                    
                    <div class="form-group">
                        <label for="ad-description">Description</label>
                        <textarea id="ad-description" placeholder="Describe your advertisement" required></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="ad-image">Upload Image (Optional)</label>
                        <input type="file" id="ad-image">
                    </div>
                    
                    <div class="form-group">
                        <label>Estimated Cost: <span id="cost-estimate">$0.00</span> in BNB</label>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-outline close-modal">Cancel</button>
                    <button class="btn btn-primary" id="pay-ad-btn">Pay & Publish</button>
                </div>
            </div>
        </div>
        
        <!-- Add Funds Modal -->
        <div class="modal" id="add-funds-modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Add Funds to Wallet</h3>
                    <button class="close-modal">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="fund-amount">Amount (BNB)</label>
                        <input type="number" id="fund-amount" min="0.01" step="0.01" value="0.05">
                    </div>
                    
                    <div class="form-group">
                        <label>Registration Fee: $2.00 in BNB</label>
                    </div>
                    
                    <div class="form-group">
                        <button class="btn btn-secondary" id="connect-wallet-btn">
                            <i class="fas fa-wallet"></i> Connect Wallet
                        </button>
                        <p id="wallet-status">No wallet connected</p>
                    </div>
                    
                    <div class="form-group">
                        <label>Total to Pay: <span id="total-pay">0.00</span> BNB</label>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-outline close-modal">Cancel</button>
                    <button class="btn btn-primary" id="confirm-payment-btn" disabled>Confirm Payment</button>
                </div>
            </div>
        </div>
        
        <!-- Cash Out Modal -->
        <div class="modal" id="cash-out-modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Withdraw SupremeAmer Tokens</h3>
                    <button class="close-modal">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label>Available Tokens: <span id="available-tokens">0</span> SAT</label>
                    </div>
                    
                    <div class="form-group">
                        <label for="withdraw-amount">Amount to Withdraw (Minimum 30,000 SAT)</label>
                        <input type="number" id="withdraw-amount" min="30000" value="30000">
                    </div>
                    
                    <div class="form-group">
                        <label for="wallet-address">Your Wallet Address</label>
                        <input type="text" id="wallet-address" placeholder="Enter your wallet address" readonly>
                    </div>
                    
                    <div class="form-group">
                        <label>Network Fee: 0.001 BNB</label>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-outline close-modal">Cancel</button>
                    <button class="btn btn-primary" id="confirm-withdraw-btn">Confirm Withdrawal</button>
                </div>
            </div>
        </div>
    </div>

    <script>
       
        const SAT_TOKEN_ADDRESS = "0x06dB6BA51c18348A4C47465CAB643E62038969dd";
        const SAT_TOKEN_ABI = [{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"OwnableInvalidOwner","type":"error"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"OwnableUnauthorizedAccount","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"}];
            
            "function balanceOf(address owner) view returns (uint256)",
            "function transfer(address to, uint256 amount) returns (bool)",
            "function approve(address spender, uint256 amount) returns (bool)",
            "function allowance(address owner, address spender) view returns (uint256)",
            "function transferFrom(address from, address to, uint256 amount) returns (bool)",
            
            // Custom methods for mining
            "function startMining() external",
            "function claimMinedTokens() external",
            "function getMinedTokens(address user) view returns (uint256)",
            "function miningActive(address user) view returns (bool)"
        ];
        
        const BNB_REGISTRATION_FEE = "0.0066"; // $2 worth of BNB
        const MIN_WITHDRAWAL = 30000; // Minimum SAT tokens to withdraw
        const NETWORK_FEE = "0.001"; // BNB network fee
        
        // Appwrite configuration
        const APPWRITE_ENDPOINT = "https://fra.cloud.appwrite.io/v1";
        const APPWRITE_PROJECT_ID = "68370442000c3c15b9f3";
        const APPWRITE_DATABASE_ID = "683705ff00244f73e93f";
        const APPWRITE_USERS_COLLECTION = "users";
        const APPWRITE_ADS_COLLECTION = "adverts";
        const APPWRITE_TRANSACTIONS_COLLECTION = "transaction_collection";
        
        // Approved emails for ad posting
        const APPROVED_EMAILS = [
            "supremealpha04@gmail.com",
            "supremeamerapplication@gmail.com",
            "funkomark24@gmail.com"
        ];
        
        
        let user = null;
        let provider = null;
        let signer = null;
        let satTokenContract = null;
        let appwrite = null;
        let database = null;
        let walletConnected = false;
        let walletAddress = "";
        
      
        const authSection = document.getElementById('auth-section');
        const mainApp = document.getElementById('main-app');
        const authMessage = document.getElementById('auth-message');
        const appMessage = document.getElementById('app-message');
        const loginForm = document.getElementById('login-form');
        const registerForm = document.getElementById('register-form');
        const bnbBalanceSpan = document.getElementById('bnb-balance');
        const tokenBalanceSpan = document.getElementById('token-balance');
        const satBalanceSpan = document.getElementById('sat-balance');
        const userAvatar = document.getElementById('user-avatar');
        
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize Appwrite
            appwrite = new Appwrite();
            appwrite
                .setEndpoint(APPWRITE_ENDPOINT)
                .setProject(APPWRITE_PROJECT_ID);
            
            database = appwrite.database;
            
            // Check if user is already logged in
            checkAuthStatus();
            
            // Set up event listeners
            setupEventListeners();
            
            // Initialize ad cost calculator
            initAdCostCalculator();
            
            // Initialize fund amount calculator
            initFundCalculator();
        });
        
        
        function checkAuthStatus() {
            const storedUser = localStorage.getItem('supremeamer_user');
            if (storedUser) {
                try {
                    user = JSON.parse(storedUser);
                    authSection.style.display = 'none';
                    mainApp.style.display = 'block';
                    loadUserData();
                } catch (e) {
                    console.error('Error parsing user data:', e);
                    showAuthMessage('Session expired. Please login again.', 'error');
                }
            }
        }
        
        function setupAuthListeners() {
            // Tab switching
            const tabs = document.querySelectorAll('.auth-tab');
            const forms = document.querySelectorAll('.auth-form');
            
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const formId = tab.getAttribute('data-form');
                    
                    // Update active tab
                    tabs.forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    
                    // Show target form
                    forms.forEach(form => {
                        form.classList.remove('active');
                        if (form.id === formId) {
                            form.classList.add('active');
                        }
                    });
                });
            });
            
            // Switch between login/register
            document.getElementById('show-register').addEventListener('click', (e) => {
                e.preventDefault();
                tabs[1].click();
            });
            
            document.getElementById('show-login').addEventListener('click', (e) => {
                e.preventDefault();
                tabs[0].click();
            });
            
            // Form submission
            loginForm.addEventListener('submit', (e) => {
                e.preventDefault();
                loginUser();
            });
            
            registerForm.addEventListener('submit', (e) => {
                e.preventDefault();
                registerUser();
            });
        }
        
        function loginUser() {
            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;
            
            // Simple validation
            if (!email || !password) {
                showAuthMessage('Please fill in all fields', 'error');
                return;
            }
            
            // Simulate login with Appwrite
            showAuthMessage('Logging in...', 'warning');
            
            // In a real app, this would be an API call to Appwrite
            setTimeout(() => {
                // Create user object
                user = {
                    id: 'user_' + Math.random().toString(36).substr(2, 9),
                    name: 'SupremeAmer User',
                    email: email,
                    tokenBalance: 24500,
                    bnbBalance: 0.25,
                    referralCode: 'REF' + Math.random().toString(36).substr(2, 6).toUpperCase(),
                    referrals: 12,
                    adsPosted: 5,
                    joinedAt: new Date().toISOString()
                };
                
                // Store user in localStorage
                localStorage.setItem('supremeamer_user', JSON.stringify(user));
                
                // Hide auth and show main app
                authSection.style.display = 'none';
                mainApp.style.display = 'block';
                
                // Load user data
                loadUserData();
            }, 1500);
        }
        
        function registerUser() {
            const name = document.getElementById('register-name').value;
            const email = document.getElementById('register-email').value;
            const password = document.getElementById('register-password').value;
            const confirm = document.getElementById('register-confirm').value;
            
            // Validation
            if (!name || !email || !password || !confirm) {
                showAuthMessage('Please fill in all fields', 'error');
                return;
            }
            
            if (password !== confirm) {
                showAuthMessage('Passwords do not match', 'error');
                return;
            }
            
            if (!document.getElementById('fee-agreement').checked) {
                showAuthMessage('You must agree to pay the registration fee', 'error');
                return;
            }
            
            // Show payment modal
            authSection.style.display = 'none';
            mainApp.style.display = 'block';
            
            // Create temporary user
            user = {
                id: 'user_' + Math.random().toString(36).substr(2, 9),
                name: name,
                email: email,
                tokenBalance: 0,
                bnbBalance: 0,
                referralCode: 'REF' + Math.random().toString(36).substr(2, 6).toUpperCase(),
                referrals: 0,
                adsPosted: 0,
                joinedAt: new Date().toISOString()
            };
            
            // Show registration payment modal
            showRegistrationPayment();
        }
        
        function showRegistrationPayment() {
            // Update UI
            document.getElementById('add-funds-modal').classList.add('active');
            document.getElementById('fund-amount').value = BNB_REGISTRATION_FEE;
            document.getElementById('total-pay').textContent = BNB_REGISTRATION_FEE;
            document.getElementById('confirm-payment-btn').textContent = "Pay Registration Fee";
            
            // Connect wallet automatically
            connectWallet();
        }
        
        function showAuthMessage(message, type) {
            authMessage.innerHTML = `<div class="status-message status-${type}">${message}</div>`;
        }
        
        function showAppMessage(message, type) {
            appMessage.innerHTML = `<div class="status-message status-${type}">${message}</div>`;
            setTimeout(() => {
                appMessage.innerHTML = '';
            }, 5000);
        }
        
        // ==============================================
        // Wallet Functions
        // ==============================================
        async function connectWallet() {
            try {
                // Check if MetaMask is installed
                if (typeof window.ethereum === 'undefined') {
                    showAppMessage('Please install MetaMask or a compatible wallet extension.', 'error');
                    return;
                }
                
                // Request account access
                const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
                walletAddress = accounts[0];
                walletConnected = true;
                
                // Set up ethers provider
                provider = new ethers.providers.Web3Provider(window.ethereum);
                signer = provider.getSigner();
                
                // Initialize token contract
                satTokenContract = new ethers.Contract(SAT_TOKEN_ADDRESS, SAT_TOKEN_ABI, signer);
                
                // Update UI
                document.getElementById('wallet-status').textContent = `Connected: ${walletAddress.substring(0, 6)}...${walletAddress.substring(38)}`;
                document.getElementById('wallet-status').style.color = 'var(--success)';
                document.getElementById('confirm-payment-btn').disabled = false;
                
                // Get BNB balance
                const balance = await provider.getBalance(walletAddress);
                const balanceInBNB = ethers.utils.formatEther(balance);
                
                // Update balance display
                bnbBalanceSpan.textContent = parseFloat(balanceInBNB).toFixed(4);
                if (user) {
                    user.bnbBalance = parseFloat(balanceInBNB);
                    localStorage.setItem('supremeamer_user', JSON.stringify(user));
                }
                
                // Get SAT token balance
                if (satTokenContract && walletAddress) {
                    const tokenBalance = await satTokenContract.balanceOf(walletAddress);
                    const formattedBalance = ethers.utils.formatUnits(tokenBalance, 18);
                    
                    tokenBalanceSpan.textContent = parseInt(formattedBalance).toLocaleString();
                    satBalanceSpan.textContent = parseInt(formattedBalance).toLocaleString();
                    
                    if (user) {
                        user.tokenBalance = parseInt(formattedBalance);
                        localStorage.setItem('supremeamer_user', JSON.stringify(user));
                    }
                }
                
                showAppMessage('Wallet connected successfully!', 'success');
            } catch (error) {
                console.error('Wallet connection error:', error);
                document.getElementById('wallet-status').textContent = 'Connection failed';
                document.getElementById('wallet-status').style.color = 'var(--danger)';
                showAppMessage('Wallet connection failed: ' + error.message, 'error');
            }
        }
        
        // ==============================================
        // Payment Functions
        // ==============================================
        async function payRegistrationFee() {
            try {
                if (!walletConnected || !signer) {
                    showAppMessage('Please connect your wallet first', 'error');
                    return;
                }
                
                const amount = ethers.utils.parseEther(BNB_REGISTRATION_FEE);
                const tx = {
                    to: "0xYourPlatformWalletAddress", // Replace with your BNB address
                    value: amount,
                    gasLimit: 21000
                };
                
                showAppMessage('Processing payment...', 'warning');
                
                // Send transaction
                const transaction = await signer.sendTransaction(tx);
                await transaction.wait();
                
                showAppMessage('Registration fee paid successfully!', 'success');
                
                // Update user status
                user.registered = true;
                localStorage.setItem('supremeamer_user', JSON.stringify(user));
                
                // Close modal
                document.getElementById('add-funds-modal').classList.remove('active');
                
                // Load user data
                loadUserData();
            } catch (error) {
                console.error('Payment error:', error);
                showAppMessage('Payment failed: ' + error.message, 'error');
            }
        }
        
        async function payForAd() {
            try {
                if (!walletConnected || !signer) {
                    showAppMessage('Please connect your wallet first', 'error');
                    return;
                }
                
                const reach = parseInt(document.getElementById('ad-reach').value);
                const category = document.getElementById('ad-category').value;
                
                // Calculate cost
                const costPerReach = (category === 'crypto' || category === 'referral') ? 0.1 : 0.092;
                const minReach = (category === 'crypto' || category === 'referral') ? 20 : 50;
                const actualReach = Math.max(reach, minReach);
                const costUSD = actualReach * costPerReach;
                
                // Convert to BNB (simplified)
                const costBNB = costUSD / 300; // Assuming 1 BNB = $300
                const amount = ethers.utils.parseEther(costBNB.toFixed(6));
                
                const tx = {
                    to: "0xYourPlatformWalletAddress", // Replace with your BNB address
                    value: amount,
                    gasLimit: 21000
                };
                
                showAppMessage('Processing payment for ad...', 'warning');
                
                // Send transaction
                const transaction = await signer.sendTransaction(tx);
                await transaction.wait();
                
                // Create ad object
                const adData = {
                    id: 'ad_' + Math.random().toString(36).substr(2, 9),
                    title: document.getElementById('ad-title').value,
                    category: category,
                    reach: actualReach,
                    cost: costUSD,
                    ownerId: user.id,
                    ownerEmail: user.email,
                    paymentTx: transaction.hash,
                    status: 'pending',
                    createdAt: new Date().toISOString()
                };
                
                // Save ad to Appwrite
                // In a real app: await database.createDocument(APPWRITE_DATABASE_ID, APPWRITE_ADS_COLLECTION, adData);
                
                // Update user's ads count
                user.adsPosted++;
                localStorage.setItem('supremeamer_user', JSON.stringify(user));
                document.getElementById('active-ads').textContent = user.adsPosted;
                
                showAppMessage('Ad posted successfully! It will be visible after approval.', 'success');
                
                // Close modal
                document.getElementById('upload-ad-modal').classList.remove('active');
                
                // Reset form
                document.getElementById('ad-title').value = '';
                document.getElementById('ad-description').value = '';
                
                // Reload ads
                loadAds();
            } catch (error) {
                console.error('Ad payment error:', error);
                showAppMessage('Ad payment failed: ' + error.message, 'error');
            }
        }
        
        async function withdrawTokens() {
            try {
                const amount = parseInt(document.getElementById('withdraw-amount').value);
                
                if (amount < MIN_WITHDRAWAL) {
                    showAppMessage(`Minimum withdrawal is ${MIN_WITHDRAWAL} SAT tokens`, 'error');
                    return;
                }
                
                if (amount > user.tokenBalance) {
                    showAppMessage('Insufficient token balance', 'error');
                    return;
                }
                
                if (!walletConnected || !satTokenContract) {
                    showAppMessage('Please connect your wallet first', 'error');
                    return;
                }
                
                showAppMessage('Processing withdrawal...', 'warning');
                
                // Convert tokens to wei
                const amountWei = ethers.utils.parseUnits(amount.toString(), 18);
                
                // Send transaction
                const tx = await satTokenContract.transfer(walletAddress, amountWei);
                await tx.wait();
                
                // Update token balance
                const tokenBalance = await satTokenContract.balanceOf(walletAddress);
                const formattedBalance = ethers.utils.formatUnits(tokenBalance, 18);
                
                tokenBalanceSpan.textContent = parseInt(formattedBalance).toLocaleString();
                satBalanceSpan.textContent = parseInt(formattedBalance).toLocaleString();
                user.tokenBalance = parseInt(formattedBalance);
                localStorage.setItem('supremeamer_user', JSON.stringify(user));
                
                showAppMessage(`Successfully withdrew ${amount} SAT tokens!`, 'success');
                
                // Close modal
                document.getElementById('cash-out-modal').classList.remove('active');
            } catch (error) {
                console.error('Withdrawal error:', error);
                showAppMessage('Withdrawal failed: ' + error.message, 'error');
            }
        }
        
        // ==============================================
        // User Interface Functions
        // ==============================================
        function loadUserData() {
            if (!user) return;
            
            // Update UI with user data
            userAvatar.textContent = user.name.charAt(0).toUpperCase();
            bnbBalanceSpan.textContent = user.bnbBalance.toFixed(4);
            tokenBalanceSpan.textContent = user.tokenBalance.toLocaleString();
            satBalanceSpan.textContent = user.tokenBalance.toLocaleString();
            document.getElementById('referral-count').textContent = user.referrals;
            document.getElementById('active-ads').textContent = user.adsPosted;
            document.getElementById('referral-link').value = `https://supremeamer.com/ref/${user.referralCode}`;
            document.getElementById('total-referrals').textContent = user.referrals;
            document.getElementById('tokens-earned').textContent = (user.referrals * 1000).toLocaleString();
            document.getElementById('indirect-earnings').textContent = (user.referrals * 10).toLocaleString();
            
            // Load ads
            loadAds();
            
            // Load history
            loadHistory();
            
            // Load referral activity
            loadReferralActivity();
        }
        
        function loadAds() {
            // Simulate loading ads from Appwrite
            const recentAdsGrid = document.getElementById('recent-ads');
            const marketplaceAdsGrid = document.getElementById('marketplace-ads');
            
            // Clear existing ads
            recentAdsGrid.innerHTML = '';
            marketplaceAdsGrid.innerHTML = '';
            
            // Sample ad data
            const ads = [
                {
                    id: 'ad1',
                    title: 'Join our Crypto Community',
                    category: 'crypto',
                    reach: 50,
                    reward: 350,
                    image: 'https://via.placeholder.com/300?text=Crypto+Ad'
                },
                {
                    id: 'ad2',
                    title: 'Follow our Facebook Page',
                    category: 'facebook',
                    reach: 100,
                    reward: 350,
                    image: 'https://via.placeholder.com/300?text=Facebook+Ad'
                },
                {
                    id: 'ad3',
                    title: 'Instagram Influencer Campaign',
                    category: 'instagram',
                    reach: 150,
                    reward: 350,
                    image: 'https://via.placeholder.com/300?text=Instagram+Ad'
                },
                {
                    id: 'ad4',
                    title: 'Retweet our Latest Tweet',
                    category: 'twitter',
                    reach: 200,
                    reward: 350,
                    image: 'https://via.placeholder.com/300?text=Twitter+Ad'
                }
            ];
            
            // Render ads
            ads.forEach((ad, index) => {
                const adCard = document.createElement('div');
                adCard.className = 'ad-card';
                adCard.innerHTML = `
                    <div class="ad-image" style="background-image: url('${ad.image}')">
                        <div style="background: rgba(0,0,0,0.5); width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; font-size: 3rem; color: white;">
                            <i class="fas fa-ad"></i>
                        </div>
                    </div>
                    <div class="ad-content">
                        <span class="ad-category">${ad.category.charAt(0).toUpperCase() + ad.category.slice(1)}</span>
                        <h4 class="ad-title">${ad.title}</h4>
                        <p>Reach: ${ad.reach} people</p>
                        <div class="ad-stats">
                            <div>Reward: <span class="ad-reward">${ad.reward} SAT</span></div>
                            <button class="btn btn-success" style="padding: 5px 10px; font-size: 0.8rem;">Participate</button>
                        </div>
                    </div>
                `;
                
                if (index < 2) {
                    recentAdsGrid.appendChild(adCard.cloneNode(true));
                }
                marketplaceAdsGrid.appendChild(adCard);
            });
        }
        
        function loadHistory() {
            const historyList = document.getElementById('history-list');
            historyList.innerHTML = '';
            
            // Sample history data
            const historyItems = [
                { type: 'Referral Reward', amount: 1000, date: 'Today', positive: true },
                { type: 'Ad Participation', amount: 350, date: 'Yesterday', positive: true },
                { type: 'Withdrawal Fee', amount: 50, date: '3 days ago', positive: false },
                { type: 'Referral Bonus', amount: 10, date: '1 week ago', positive: true },
                { type: 'Ad Participation', amount: 350, date: '2 weeks ago', positive: true }
            ];
            
            historyItems.forEach(item => {
                const historyItem = document.createElement('div');
                historyItem.className = 'history-item';
                historyItem.innerHTML = `
                    <div class="history-details">
                        <div class="history-type">${item.type}</div>
                        <div class="history-date">${item.date}</div>
                    </div>
                    <div class="history-amount ${item.positive ? 'history-positive' : 'history-negative'}">
                        ${item.positive ? '+' : '-'}${item.amount} SAT
                    </div>
                `;
                historyList.appendChild(historyItem);
            });
        }
        
        function loadReferralActivity() {
            const referralActivity = document.getElementById('referral-activity');
            referralActivity.innerHTML = '';
            
            // Sample referral activity
            const referrals = [
                { name: 'Jane Smith', date: 'Today', amount: 1000 },
                { name: 'Robert Johnson', date: 'Yesterday', amount: 1000 },
                { name: 'Emily Davis', date: '3 days ago', amount: 1000 },
                { name: 'Michael Wilson', date: '1 week ago', amount: 1000 }
            ];
            
            referrals.forEach(item => {
                const activityItem = document.createElement('div');
                activityItem.className = 'history-item';
                activityItem.innerHTML = `
                    <div class="history-details">
                        <div class="history-type">${item.name}</div>
                        <div class="history-date">${item.date}</div>
                    </div>
                    <div class="history-amount history-positive">
                        +${item.amount} SAT
                    </div>
                `;
                referralActivity.appendChild(activityItem);
            });
        }
        
        function initAdCostCalculator() {
            const adReachInput = document.getElementById('ad-reach');
            const adCategorySelect = document.getElementById('ad-category');
            const costEstimate = document.getElementById('cost-estimate');
            
            function calculateAdCost() {
                const reach = parseInt(adReachInput.value) || 50;
                const category = adCategorySelect.value;
                
                // Price per reach based on category
                const pricePerReach = (category === 'crypto' || category === 'referral') ? 0.1 : 0.092;
                const minReach = (category === 'crypto' || category === 'referral') ? 20 : 50;
                
                // Ensure reach meets minimum
                const actualReach = Math.max(reach, minReach);
                adReachInput.value = actualReach;
                
                // Calculate cost
                const cost = actualReach * pricePerReach;
                costEstimate.textContent = '$' + cost.toFixed(2);
            }
            
            adReachInput.addEventListener('input', calculateAdCost);
            adCategorySelect.addEventListener('change', calculateAdCost);
            
            // Initialize calculation
            calculateAdCost();
        }
        
        function initFundCalculator() {
            const fundAmountInput = document.getElementById('fund-amount');
            const totalPay = document.getElementById('total-pay');
            
            fundAmountInput.addEventListener('input', () => {
                const amount = parseFloat(fundAmountInput.value) || 0;
                const total = amount + parseFloat(BNB_REGISTRATION_FEE);
                totalPay.textContent = total.toFixed(6);
            });
            
            // Initialize
            fundAmountInput.dispatchEvent(new Event('input'));
        }
        
        function setupEventListeners() {
            // Auth listeners
            setupAuthListeners();
            
            // Wallet connection
            document.getElementById('connect-wallet-btn').addEventListener('click', connectWallet);
            
            // Registration payment
            document.getElementById('confirm-payment-btn').addEventListener('click', async () => {
                if (user && !user.registered) {
                    await payRegistrationFee();
                } else {
                    // Handle regular fund addition
                    // (implementation would be similar to registration payment)
                    showAppMessage('Funds added successfully!', 'success');
                    document.getElementById('add-funds-modal').classList.remove('active');
                }
            });
            
            // Ad payment
            document.getElementById('pay-ad-btn').addEventListener('click', payForAd);
            
            // Withdrawal
            document.getElementById('cash-out-btn').addEventListener('click', () => {
                document.getElementById('available-tokens').textContent = user.tokenBalance.toLocaleString();
                document.getElementById('withdraw-amount').value = Math.max(MIN_WITHDRAWAL, user.tokenBalance);
                document.getElementById('wallet-address').value = walletAddress;
                document.getElementById('cash-out-modal').classList.add('active');
            });
            
            document.getElementById('confirm-withdraw-btn').addEventListener('click', withdrawTokens);
            
            // Copy referral link
            document.getElementById('copy-link-btn').addEventListener('click', () => {
                const referralLink = document.getElementById('referral-link');
                referralLink.select();
                document.execCommand('copy');
                
                // Show copied feedback
                const originalText = document.getElementById('copy-link-btn').textContent;
                document.getElementById('copy-link-btn').textContent = 'Copied!';
                
                setTimeout(() => {
                    document.getElementById('copy-link-btn').textContent = originalText;
                }, 2000);
            });
            
            // Modal handling
            document.querySelectorAll('.close-modal').forEach(button => {
                button.addEventListener('click', () => {
                    document.querySelectorAll('.modal').forEach(modal => {
                        modal.classList.remove('active');
                    });
                });
            });
            
            document.getElementById('upload-ad-btn').addEventListener('click', () => {
                // Check if user is approved to post ads
                if (APPROVED_EMAILS.includes(user.email)) {
                    document.getElementById('upload-ad-modal').classList.add('active');
                } else {
                    showAppMessage('Only approved accounts can post ads. Contact support for access.', 'error');
                }
            });
            
            // Mining functionality
            document.getElementById('start-mining-btn').addEventListener('click', startMining);
            
            // Game functionality
            document.getElementById('start-game-btn').addEventListener('click', startTokenGame);
            
            // Navigation
            document.querySelectorAll('.nav-btn').forEach(button => {
                button.addEventListener('click', () => {
                    const targetView = button.getAttribute('data-view');
                    
                    // Update active nav button
                    document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');
                    
                    // Show target view
                    document.querySelectorAll('.view').forEach(view => {
                        view.classList.remove('active');
                        if (view.id === targetView) {
                            view.classList.add('active');
                        }
                    });
                });
            });
            
            // Floating buttons
            document.getElementById('mining-btn').addEventListener('click', () => {
                // Switch to mining view
                document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));
                document.querySelector('.nav-btn[data-view="home-view"]').classList.add('active');
                document.querySelectorAll('.view').forEach(view => view.classList.remove('active'));
                document.getElementById('mining-view').classList.add('active');
            });
            
            document.getElementById('game-btn').addEventListener('click', () => {
                // Switch to game view
                document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));
                document.querySelector('.nav-btn[data-view="home-view"]').classList.add('active');
                document.querySelectorAll('.view').forEach(view => view.classList.remove('active'));
                document.getElementById('game-view').classList.add('active');
            });
            
            // User dropdown
            document.getElementById('user-avatar').addEventListener('click', function() {
                document.getElementById('user-dropdown').classList.toggle('active');
            });
            
            // Logout
            document.getElementById('logout-item').addEventListener('click', function() {
                localStorage.removeItem('supremeamer_user');
                user = null;
                mainApp.style.display = 'none';
                authSection.style.display = 'flex';
            });
        }
        
        // ==============================================
        // Mining and Game Functions
        // ==============================================
        async function startMining() {
            try {
                if (!walletConnected || !satTokenContract) {
                    showAppMessage('Please connect your wallet first', 'error');
                    return;
                }
                
                const button = document.getElementById('start-mining-btn');
                const progressBar = document.getElementById('mining-progress');
                
                if (button.innerHTML.includes('Start')) {
                    // Start mining
                    button.innerHTML = '<i class="fas fa-stop"></i> Stop Mining';
                    
                    // Simulate contract interaction
                    // const tx = await satTokenContract.startMining();
                    // await tx.wait();
                    
                    showAppMessage('Mining started successfully!', 'success');
                    
                    let progress = 0;
                    const interval = setInterval(() => {
                        progress += 2;
                        progressBar.style.width = progress + '%';
                        
                        if (progress >= 100) {
                            clearInterval(interval);
                            progressBar.style.width = '0%';
                            
                            // Claim mined tokens
                            claimMinedTokens();
                            button.innerHTML = '<i class="fas fa-play"></i> Start Mining';
                        }
                    }, 100);
                    
                    // Store interval to stop later
                    button.dataset.interval = interval;
                } else {
                    // Stop mining
                    clearInterval(parseInt(button.dataset.interval));
                    progressBar.style.width = '0%';
                    button.innerHTML = '<i class="fas fa-play"></i> Start Mining';
                    
                    // Simulate contract interaction
                    // const tx = await satTokenContract.stopMining();
                    // await tx.wait();
                    
                    showAppMessage('Mining stopped', 'warning');
                }
            } catch (error) {
                console.error('Mining error:', error);
                showAppMessage('Mining operation failed: ' + error.message, 'error');
            }
        }
        
        async function claimMinedTokens() {
            try {
                // Simulate contract interaction
                // const tx = await satTokenContract.claimMinedTokens();
                // await tx.wait();
                
                // Update token balance
                const tokenBalance = await satTokenContract.balanceOf(walletAddress);
                const formattedBalance = ethers.utils.formatUnits(tokenBalance, 18);
                
                const minedAmount = Math.floor(Math.random() * 50) + 20;
                const newBalance = parseInt(formattedBalance) + minedAmount;
                
                tokenBalanceSpan.textContent = newBalance.toLocaleString();
                satBalanceSpan.textContent = newBalance.toLocaleString();
                user.tokenBalance = newBalance;
                localStorage.setItem('supremeamer_user', JSON.stringify(user));
                
                showAppMessage(`Mining complete! You earned ${minedAmount} SAT tokens.`, 'success');
            } catch (error) {
                console.error('Claim error:', error);
                showAppMessage('Failed to claim mined tokens: ' + error.message, 'error');
            }
        }
        
        function startTokenGame() {
            const gameDisplay = document.getElementById('game-display');
            const gameInstruction = document.getElementById('game-instruction');
            const button = document.getElementById('start-game-btn');
            
            if (button.innerHTML.includes('Start')) {
                // Start game
                button.innerHTML = '<i class="fas fa-stop"></i> Stop Game';
                gameInstruction.textContent = 'Get ready... tokens will appear soon!';
                gameDisplay.textContent = 'â±ï¸';
                
                let score = 0;
                let timeLeft = 30;
                let gameActive = true;
                
                // Countdown timer
                const timer = setInterval(() => {
                    timeLeft--;
                    gameInstruction.textContent = `Time left: ${timeLeft}s | Score: ${score} SAT`;
                    
                    if (timeLeft <= 0) {
                        clearInterval(timer);
                        gameActive = false;
                        endGame(score);
                    }
                }, 1000);
                
                // Token appearance
                const tokenInterval = setInterval(() => {
                    if (!gameActive) {
                        clearInterval(tokenInterval);
                        return;
                    }
                    
                    gameDisplay.textContent = 'ðŸª™';
                    
                    // Set timeout to hide token
                    setTimeout(() => {
                        if (gameActive) gameDisplay.textContent = '';
                    }, 1000);
                }, 1500);
                
                // Click to collect token
                gameDisplay.addEventListener('click', function collectToken() {
                    if (gameDisplay.textContent === 'ðŸª™') {
                        score += 10;
                        gameInstruction.textContent = `Time left: ${timeLeft}s | Score: ${score} SAT`;
                        gameDisplay.textContent = 'âœ…';
                        
                        // Remove listener after click to prevent multiple clicks
                        gameDisplay.removeEventListener('click', collectToken);
                        
                        // Re-add listener after a delay
                        setTimeout(() => {
                            if (gameActive) gameDisplay.addEventListener('click', collectToken);
                        }, 500);
                    }
                });
                
                // Store intervals
                button.dataset.timer = timer;
                button.dataset.tokenInterval = tokenInterval;
            } else {
                // Stop game
                clearInterval(parseInt(button.dataset.timer));
                clearInterval(parseInt(button.dataset.tokenInterval));
                endGame(0);
            }
        }
        
        function endGame(score) {
            const gameDisplay = document.getElementById('game-display');
            const gameInstruction = document.getElementById('game-instruction');
            const button = document.getElementById('start-game-btn');
            
            // Update game stats
            if (score > 0) {
                const gameEarnings = parseInt(document.getElementById('game-earnings').textContent.replace(/,/g, '') || 0;
                document.getElementById('game-earnings').textContent = (gameEarnings + score).toLocaleString();
                
                const highScore = parseInt(document.getElementById('high-score').textContent.replace(/,/g, '') || 0;
                if (score > highScore) {
                    document.getElementById('high-score').textContent = score.toLocaleString();
                }
                
                const gamesPlayed = parseInt(document.getElementById('games-played').textContent) || 0;
                document.getElementById('games-played').textContent = gamesPlayed + 1;
                
                // Update token balance
                const newBalance = user.tokenBalance + score;
                tokenBalanceSpan.textContent = newBalance.toLocaleString();
                satBalanceSpan.textContent = newBalance.toLocaleString();
                user.tokenBalance = newBalance;
                localStorage.setItem('supremeamer_user', JSON.stringify(user));
                
                gameDisplay.textContent = 'ðŸŽ‰';
                gameInstruction.textContent = `Game over! You earned ${score} SAT tokens.`;
            } else {
                gameDisplay.textContent = 'ðŸ›‘';
                gameInstruction.textContent = 'Game stopped. No tokens earned.';
            }
            
            button.innerHTML = '<i class="fas fa-play"></i> Start Game';
        }
    </script>
</body>
</html>